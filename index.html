<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aura Bot谩nica - Bienestar Natural</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="header">
    <h1 class="logo">Aura Bot谩nica </h1>

    <div class="header-actions">
      <!-- Secci贸n de autenticaci贸n (cuando NO est谩 logueado) -->
      <div id="auth-section" class="auth-section">
        <button id="btn-login-modal" class="btn-auth">Iniciar Sesi贸n</button>
        <button id="btn-registro-modal" class="btn-auth btn-primary">Registrarse</button>
      </div>

      <!-- Secci贸n de usuario (cuando S est谩 logueado) -->
      <div id="user-section" class="user-section hidden">
        <span class="user-info">
          <span id="user-name">Usuario</span>
          <span class="role-tag" id="user-role">cliente</span>
        </span>
        <button id="btn-logout" class="btn-auth btn-secondary">Cerrar Sesi贸n</button>
      </div>

      <div class="view-switch">
        <button id="btn-vista-cliente" class="view-btn active">
          Vista cliente
        </button>
        <button id="btn-vista-vendedor" class="view-btn hidden">
          Administrar
        </button>
      </div>
    </div>
  </header>

  <!-- Modal de Detalle de Venta -->
  <div id="modal-detalle-venta" class="modal hidden">
    <div class="modal-content modal-venta">
      <span class="modal-close" onclick="cerrarModalDetalleVenta()">&times;</span>
      <div class="venta-header">
        <h2>Detalle de Venta</h2>
        <div class="venta-id">Venta #<span id="venta-id-numero"></span></div>
      </div>
      <div class="venta-body">
        <div class="venta-info-grid">
          <div class="venta-info-item">
            <div class="venta-label">Cliente</div>
            <div class="venta-value" id="venta-cliente"></div>
          </div>
          <div class="venta-info-item">
            <div class="venta-label">Fecha</div>
            <div class="venta-value" id="venta-fecha"></div>
          </div>
          <div class="venta-info-item">
            <div class="venta-label">M茅todo de Pago</div>
            <div class="venta-value" id="venta-metodo-pago"></div>
          </div>
          <div class="venta-info-item">
            <div class="venta-label">Estado</div>
            <div class="venta-value" id="venta-estado"></div>
          </div>
        </div>
        <div class="venta-productos-section">
          <h3>Productos</h3>
          <div class="venta-productos-list" id="venta-productos-list">
            <!-- Se llenar谩 din谩micamente -->
          </div>
        </div>
        <div class="venta-total-section">
          <div class="venta-total">
            <span class="venta-total-label">Total</span>
            <span class="venta-total-amount" id="venta-total"></span>
          </div>
        </div>
      </div>
      <div class="venta-footer">
        <button class="btn-primary" onclick="cerrarModalDetalleVenta()">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- Modal de Autenticaci贸n -->
  <div id="auth-modal" class="modal hidden">
    <div class="modal-content">
      <span class="modal-close">&times;</span>
      
      <!-- Tabs Login/Registro -->
      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Iniciar Sesi贸n</button>
        <button class="auth-tab" data-tab="registro">Registrarse</button>
      </div>

      <!-- Formulario de Login -->
      <form id="form-login" class="auth-form">
        <div class="field">
          <label for="login-correo">Correo electr贸nico</label>
          <input type="email" id="login-correo" required>
        </div>
        <div class="field">
          <label for="login-password">Contrase帽a</label>
          <input type="password" id="login-password" required>
        </div>
        <button type="submit" class="btn-primary">Iniciar Sesi贸n</button>
      </form>

      <!-- Formulario de Registro -->
      <form id="form-registro" class="auth-form hidden">
        <div class="field">
          <label for="reg-nombre">Nombre de usuario</label>
          <input type="text" id="reg-nombre" required>
        </div>
        <div class="field">
          <label for="reg-correo">Correo electr贸nico</label>
          <input type="email" id="reg-correo" required>
        </div>
        <div class="field">
          <label for="reg-password">Contrase帽a</label>
          <input type="password" id="reg-password" required minlength="6">
        </div>
        <div class="field">
          <label for="reg-codigo-vendedor">C贸digo de Vendedor (Opcional)</label>
          <input type="text" id="reg-codigo-vendedor" placeholder="Ingresa el c贸digo si eres vendedor">
          <small class="field-hint">Solo necesario si quieres registrarte como vendedor</small>
        </div>
        <button type="submit" class="btn-primary">Registrarse</button>
        <p class="registro-info">
          Por defecto, tu cuenta ser谩 creada como <strong>Cliente</strong>. 
          Si tienes un c贸digo de vendedor, ingr茅salo arriba para obtener acceso de vendedor.
        </p>
      </form>
    </div>
  </div>

  <!--  VISTA CLIENTE -->
  <main id="vista-cliente" class="layout">
    <!-- Cat谩logo de productos -->
    <section class="catalogo">
      <h2>Productos</h2>
      <div id="lista-productos" class="productos-grid">
        <!-- Aqu铆 se llenan las tarjetas con JS -->
      </div>
    </section>

    <!-- Carrito -->
    <aside class="carrito">
      <h2>Carrito</h2>
      <div id="lista-carrito" class="carrito-items">
        <p class="carrito-vacio">Tu carrito est谩 vac铆o.</p>
      </div>
      <div class="carrito-total">
        <span>Total:</span>
        <strong id="total-carrito">$0.00</strong>
      </div>
      <button id="btn-vaciar" class="btn-secondary">Vaciar carrito</button>
    </aside>
  </main>

  <section id="cliente-datos" class="cliente-section">
    <h2>Tus datos</h2>
    <form id="form-cliente" class="form-cliente">
      <div class="field">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" required>
      </div>
      <div class="field">
        <label for="direccion">Direcci贸n</label>
        <input type="text" id="direccion">
      </div>
      <div class="field">
        <label for="telefono">Tel茅fono</label>
        <input type="text" id="telefono">
      </div>
      <div class="field">
        <label for="correo">Correo</label>
        <input type="email" id="correo">
      </div>

      <button type="submit" class="btn-primary">
        Confirmar compra
      </button>
    </form>
  </section>

  <!-- Ь VISTA VENDEDOR -->
  <main id="vista-vendedor" class="layout hidden">
    <aside class="panel-menu">
      <h2>Panel vendedor</h2>
      <ul>
        <li class="menu-item activo" data-section="sec-resumen">Resumen</li>
        <li class="menu-item" data-section="sec-productos">Productos</li>
        <li class="menu-item" data-section="sec-clientes">Clientes</li>
        <li class="menu-item" data-section="sec-ventas">Ventas</li>
      </ul>
    </aside>

    <section class="panel-contenido">
      <!-- Resumen -->
      <div id="sec-resumen" class="panel-section">
        <h2>Resumen general</h2>
        <div class="cards-resumen">
          <article class="card-resumen">
            <span class="label">Ventas hoy</span>
            <strong>$1,250.00</strong>
          </article>
          <article class="card-resumen">
            <span class="label">Clientes registrados</span>
            <strong>24</strong>
          </article>
          <article class="card-resumen">
            <span class="label">Productos activos</span>
            <strong>8</strong>
          </article>
        </div>
      </div>

      <!-- Productos -->
      <div id="sec-productos" class="panel-section hidden">
        <h2>Productos</h2>
        <table class="tabla">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Tipo</th>
              <th>Precio</th>
              <th>Stock/Estado</th>
            </tr>
          </thead>
          <tbody id="tabla-productos">
            <!-- Datos de ejemplo, luego se rellenan con JS/backend -->
            <tr>
              <td>1</td>
              <td>Jugo Verde Detox</td>
              <td>l铆quido</td>
              <td>$45.00</td>
              <td><button class="btn-small">Editar</button></td>
            </tr>
            <tr>
              <td>2</td>
              <td>Smoothie de Fresa</td>
              <td>l铆quido</td>
              <td>$40.00</td>
              <td><button class="btn-small">Editar</button></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Clientes -->
      <div id="sec-clientes" class="panel-section hidden">
        <h2>Clientes</h2>
        <table class="tabla">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Tel茅fono</th>
              <th>Correo</th>
            </tr>
          </thead>
          <tbody id="tabla-clientes">
            <tr>
              <td>1</td>
              <td>Ana L贸pez</td>
              <td>555-123-4567</td>
              <td>ana@example.com</td>
            </tr>
            <tr>
              <td>2</td>
              <td>Luis P茅rez</td>
              <td>555-987-6543</td>
              <td>luis@example.com</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Ventas -->
      <div id="sec-ventas" class="panel-section hidden">
        <h2>Ventas</h2>
        <table class="tabla">
          <thead>
            <tr>
              <th>ID</th>
              <th>Fecha</th>
              <th>Cliente</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody id="tabla-ventas">
            <tr>
              <td>1</td>
              <td>2025-12-01</td>
              <td>Ana L贸pez</td>
              <td>$85.00</td>
            </tr>
            <tr>
              <td>2</td>
              <td>2025-12-01</td>
              <td>Luis P茅rez</td>
              <td>$320.00</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- JS -->
  <script src="js/api.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
